<ng-container [formGroup]="parentFormGroup">
    <div formArrayName="addresses">
        <div class="address-container" *ngFor="let address of getFormsControls() let i = index" [formGroup]="addressesGroup">
            <mat-form-field appearance="fill">
                <mat-label>Address</mat-label>
                <textarea matInput formControlName="addressLine"></textarea>
                <mat-error>Address is incorrect</mat-error>
            </mat-form-field>
            <mat-form-field appearance="fill">
                <mat-label>City</mat-label>
                <input matInput formControlName="city">
                <mat-error>City is incorrect</mat-error>
            </mat-form-field>
            <mat-form-field appearance="fill">
                <mat-label>Zip</mat-label>
                <input matInput formControlName="zip">
                <mat-error *ngIf="toggleZipValidator(addressesGroup.get('zip'), addressesGroup.get('city'), addressesGroup)">Error
                </mat-error>
            </mat-form-field>
            <button (click)="removeAddress(i)">Remove address</button>
        </div>
    </div>
    <button (click)="addAddress()">Add address</button>
</ng-container>